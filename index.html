<!doctype html>
<html>
    <head>
      <title>Tic Tac Toe!</title>

      <style>
        *{
            font-family: Impact;
        }
        h1{
          text-align: center;
        }
        table{
          margin: 0 auto;
        }
        td{
          width:70px;
          border: 2px solid black;
          text-align: center;
          font-size:60px;
          padding:30px;
          height:70px;
          font-family: monospace;
        }
        button{
          font-size: 1.5rem;
          padding: 8px 25px;
        }
      </style>
    </head>
    <body>
      <h1>Tic Tac Toe</h1>
        <table>
            <tr>
                <td></td>
                <td></td>
                <td></td>
            </tr>
            <tr>
                <td></td>
                <td></td>
                <td></td>
            </tr>
            <tr>
                <td></td>
                <td></td>
                <td></td>
            </tr>
        </table>
        <center>
            <button id="reset">Reset!</button>
            <button id="changecolor">Change BG color</button>
        </center>

        <script src="https://code.jquery.com/jquery-2.1.4.min.js"></script>
        <script>
          (function(){
            var clickCounter = 0;
            attachEvents();
            function attachEvents(){
                $("td").click( function(){
                  clickCounter++ % 2 == 0? $(this).html("X") : $(this).html("O");
                  $(this).unbind("click");
                });
                $("#reset").click(resetGrid);
                $("#changecolor").click(changeColor);
            }

            function changeColor(){
                var c = Math.round(Math.random()*255);
                var color = "rgb(" + c + "," + c + "," + c + ")";
                $("td").css("background-color", color);
                if (c < 75){
                    $("td").css("color", "white");
                }
                else{
                    $("td").css("color", "black");
                }
            }
            function resetGrid(){
                $("td").unbind("click");
                attachEvents();
                clickCounter = 0;
                $("td").html("");
            }
          })();


        </script>
    </body>
</html>
